---
title: "Running nf-core Pipelines on Google Colab"
subtitle: "A guide to running and interacting with nf-core pipelines using Colab and VS Code"
pubDate: 2025-08-15T12:00:00+01:00
headerImage: "/assets/images/blog/nf-core-colab-guide/blogpost-thumbnail.jpg"
headerImageAlt: "Epic Handshake between nf-core and colab"
embedHeaderImage: true
authors:
    - "KurayiChawatama"
label:
    - "community post"
---

import Profile from "@components/GitHubProfilePictureExtended.svelte";
import colabmeme from "@assets/images/blog/nf-core-colab-guide/colab-meme.jpg";
import login from "@assets/images/blog/nf-core-colab-guide/login.png";
import connect from "@assets/images/blog/nf-core-colab-guide/connect.png";

import { Image } from "astro:assets";

# Introduction

<Image
    src={colabmeme}
    class="d-block m-auto"
    width={600}
    density={[1.5, 2]}
    alt="Butch eats GPUs from the garbage while Tom is handfed in luxury"
/>

Running nf-core pipelines can be computationally intensive, requiring resources not easily available to students, newcomers, or participants in hands-on training workshops.
This post shows two ways you can use Google Colab to run nf-core pipelines entirely in the cloud, either in a browser-based execution or connected to VS Code via the vscode-colab package for a full development experience.
While Colab has limitations, such as session timeouts and a lack of root access, it offers a free and accessible platform ideal for learning, teaching, and prototyping workflows in resource-constrained environments.

# Setting up the environment in Google Colab

After opening a Colab notebook with the machine type of your choice, the first step is to install Nextflow and it's dependencies. Since Colab does not provide root access, you will need to install Nextflow in the user's home directory.

After opening a Colab notebook with the machine type of your choice, the first step is to install Nextflow and its dependencies. Since Colab does not provide root access, you will need to install Nextflow in your home directory.

Before installing Nextflow, you must install Java. In Colab, run the following commands in a code cell using the `%` and `!` prefixes, or run them directly in your terminal (without the prefixes).

```python title="Install Java"
%cd .. # use '%'before cd to make a permanent change of directories
!sudo apt update
!sudo apt install openjdk-17-jdk
!export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
!export PATH=$JAVA_HOME/bin:$PATH
!source ~/.bashrc
```

Next, install Nextflow and make it executable by running the following commands in a code cell as before:

```python title="Install Nextflow"
!wget -qO- https://get.nextflow.io | bash # Download Nextflow
!mv nextflow /usr/bin/nextflow # Move to a path Colab can access
!chmod +x /usr/bin/nextflow # Make it executable
!nextflow -v # Test it
```

Due to a lack of root access, it is not possible to run nf-core, or any Nextflow pipelines, using the `-profile docker` or `-profile singularity` container based configuration profiles.

That leaves the conda profile as the only way to run pipelines.
However, as Google Colab does not support native conda functionality, you need to install the [condacolab](https://pypi.org/project/condacolab/) package, which will set up Conda for you by running the following commands:

```python title="Install condacolab"
!pip install -q condacolab
import condacolab
condacolab.install()
```

Make sure to set the conda defaults as follows for smooth pipeline execution:

```python title="Set conda defaults"
!conda config --add channels defaults
!conda config --add channels bioconda
!conda config --add channels conda-forge
!conda config --set channel_priority strict
```

# Running a test pipeline


Yes, the setup is that simple!
Now that the main parts of the environment are all set up, we can run our demo pipeline [nf-core/demo](https://nf-co.re/demo/1.0.2/).
To install the pipeline, run:

```python title="Install nf-core/demo"
! nextflow pull nf-core/demo
```


One last important step before running your pipeline, or any others in Colab, is to set the `MPLBACKEND` environment variable to `Agg`.
This ensures that Matplotlib can render plots in a headless environment like Colab, where no display is available.
You can do this either by running the following in a code cell:

```python title="Set MPLBACKEND to Agg in a code cell"
%env MPLBACKEND=Agg
```


Or alternatively, by running the following command in the terminal:

```bash title="Set MPLBACKEND to Agg in the terminal"
export MPLBACKEND=Agg
```

# Running and Editing Pipelines in VS Code via Colab


While you could get away with editing existing pipelines inside Colab's built-in terminal using editors like vim or nano, VS Code offers a more robust environment.
Thankfully, the [vscode-colab](https://github.com/EssenceSentry/vscode-colab) Python library provides just the toolkit you need to take advantage of Colab's powerful hardware in the comfort of VS Code's rich software suite.
The library makes use of the official [VS Code Remote Tunnels](https://code.visualstudio.com/docs/remote/tunnels) to securely and reliably connect Google Colab as well as Kaggle notebooks to a local or browser-based instance of VS Code.
You can read more about the library and even help contribute to new features on its [GitHub repository](https://github.com/EssenceSentry/vscode-colab).

_Note: If you decide to use this approach, it is best to run this after setting up the other dependencies that require installation by running inside Colab cells to avoid any connection issues._


And remember, while Google Colab is a powerful and accessible platform, it does have some constraints:
- Session timeouts and limited runtime duration
- No root access for system-level changes
- Limited resources compared to dedicated cloud VMs

# Conclusion


In this guide, we covered:
- Setting up Nextflow and dependencies in Google Colab
- Running nf-core pipelines in a cloud environment
- Connecting Colab to VS Code for a richer development experience


If you have feedback, questions, or tips, please share them in the comments or via the nf-core Slack channel. Your input helps improve the community!




- why would anyone run pipelines in colab? (also poeple that mainly develop on their laptop, but may want a faster testing environment)
    - heavy duty data based trainings, or cheapskates like me that are new to nextflow and otherwise don't have access to the resources to properly run pipelines
- limitations of running pipelines in general in colab
    - no root access and thus no docker and all
    - MPLBACKEND issue
    - conda itself is not direct either
    - crappy GUI for a multilingual environment like nextflow, that's where:
- vscode-colab comes in!
    - why shoudl anython use vs code colab? - also supports Kaggle notebooks
    -  all your favourite extentions and language highlighting, familair more streamlined ideal
    - disadvantages
        - run order of the pipelines can mean can cause frequent disconnections but it is otherwise stable
        - environment loadup time is a bit long
        - you have to setup the whole environment with all the extentions from scratch with each run
- tips
    - make sure to connect your google drive if you want to save results,  make sure you have enough storage for it
    - make sure to work in git and commit or alternatively test in colab, but save changes from your local PC and commti from there to prevent loss
